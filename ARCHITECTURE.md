# ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å…¨ä½“å›³

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Laravel GraphQL Memo Appã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¾ã§ã®å…¨ä½“çš„ãªãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã‚’å¯è¦–åŒ–ã—ã¾ã™ã€‚

## ğŸ“Š ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ğŸŒ Browser (localhost:3000)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â”‚ HTTP Request
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ğŸ“¦ Docker Container: Frontend                      â”‚
â”‚                         (React + TypeScript)                             â”‚
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  App.tsx (ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ)                                    â”‚   â”‚
â”‚  â”‚  â”œâ”€ ApolloProvider (GraphQLã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š)                     â”‚   â”‚
â”‚  â”‚  â”‚   â””â”€ uri: http://localhost:8000/graphql                       â”‚   â”‚
â”‚  â”‚  â”œâ”€ AuthProvider (èªè¨¼çŠ¶æ…‹ç®¡ç† - Context API)                   â”‚   â”‚
â”‚  â”‚  â””â”€ Router (ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                      â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ“ src/features/                                                â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  ğŸ” auth/                          âœ… todo/                      â”‚   â”‚
â”‚  â”‚  â”œâ”€ pages/                         â”œâ”€ pages/                     â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ LoginPage.tsx              â”‚  â”œâ”€ TodoPage.tsx            â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€ RegisterPage.tsx           â”‚  â””â”€ TodoEditPage.tsx        â”‚   â”‚
â”‚  â”‚  â”œâ”€ graphql/                       â”œâ”€ components/                â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ login.graphql              â”‚  â”œâ”€ TodoList.tsx            â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ register.graphql           â”‚  â””â”€ TodoForm.tsx            â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€ me.graphql                 â””â”€ graphql/                   â”‚   â”‚
â”‚  â”‚  â””â”€ hooks/                            â”œâ”€ getTodos.graphql        â”‚   â”‚
â”‚  â”‚     â””â”€ useAuth()                      â”œâ”€ createTodo.graphql      â”‚   â”‚
â”‚  â”‚                                        â”œâ”€ updateTodo.graphql      â”‚   â”‚
â”‚  â”‚                                        â””â”€ deleteTodo.graphql      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                      â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ”§ src/generated/graphql.ts                                     â”‚   â”‚
â”‚  â”‚  (GraphQL Code Generatorã§è‡ªå‹•ç”Ÿæˆ)                              â”‚   â”‚
â”‚  â”‚  â”œâ”€ useLoginUserMutation()                                       â”‚   â”‚
â”‚  â”‚  â”œâ”€ useGetMeQuery()                                              â”‚   â”‚
â”‚  â”‚  â”œâ”€ useGetTodosQuery()                                           â”‚   â”‚
â”‚  â”‚  â”œâ”€ useCreateTodoMutation()                                      â”‚   â”‚
â”‚  â”‚  â”œâ”€ useUpdateTodoMutation()                                      â”‚   â”‚
â”‚  â”‚  â””â”€ useDeleteTodoMutation()                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â”‚ GraphQL Query/Mutation
                                      â”‚ (Apollo Client)
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ğŸš€ Docker Container: Backend                       â”‚
â”‚                         (Laravel + Lighthouse)                           â”‚
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ¯ GraphQL Endpoint: /graphql                                   â”‚   â”‚
â”‚  â”‚     (Lighthouse GraphQL Router)                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                      â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ“„ graphql/schema.graphql (çµ±åˆã‚¹ã‚­ãƒ¼ãƒ)                        â”‚   â”‚
â”‚  â”‚  â”œâ”€ types/                                                       â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ user.graphql      (Userå‹å®šç¾©)                           â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ todo.graphql      (Todoå‹å®šç¾©)                           â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ category.graphql  (Categoryå‹å®šç¾©)                       â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€ priority.graphql  (Priority enum)                        â”‚   â”‚
â”‚  â”‚  â”œâ”€ queries/                                                     â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ userQueries.graphql                                      â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ todoQueries.graphql                                      â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€ categoryQueries.graphql                                  â”‚   â”‚
â”‚  â”‚  â””â”€ mutations/                                                   â”‚   â”‚
â”‚  â”‚     â”œâ”€ authMutations.graphql  (login, register, logout)         â”‚   â”‚
â”‚  â”‚     â”œâ”€ todoMutations.graphql  (create, update, delete)          â”‚   â”‚
â”‚  â”‚     â””â”€ categoryMutations.graphql                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                      â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ¨ app/GraphQL/ (ãƒªã‚¾ãƒ«ãƒãƒ¼å®Ÿè£…)                               â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  Lighthouse/                                                     â”‚   â”‚
â”‚  â”‚  â”œâ”€ AuthResolver.php                                            â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ login()      â†’ Laravel Auth::attempt()                   â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ register()   â†’ User::create()                            â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€ logout()     â†’ Auth::logout()                            â”‚   â”‚
â”‚  â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  â”œâ”€ TodoResolver.php                                            â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ createTodo() â†’ Todo::create()                            â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ updateTodo() â†’ Todo::update()                            â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€ deleteTodo() â†’ Todo::delete()                            â”‚   â”‚
â”‚  â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  â”œâ”€ UserResolver.php                                            â”‚   â”‚
â”‚  â”‚  â””â”€ CategoryResolver.php                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                      â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ—‚ï¸ app/Models/ (Eloquent ORM)                                  â”‚   â”‚
â”‚  â”‚  â”œâ”€ User.php                                                     â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€ hasMany(Todo)                                            â”‚   â”‚
â”‚  â”‚  â”œâ”€ Todo.php                                                     â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ belongsTo(User)                                          â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ belongsTo(Category)                                      â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ scopeForUser()                                           â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ scopeCompleted()                                         â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€ scopeApplySorting()                                      â”‚   â”‚
â”‚  â”‚  â””â”€ Category.php                                                â”‚   â”‚
â”‚  â”‚     â””â”€ belongsTo(User)                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â”‚ SQL Query (Eloquent)
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ğŸ—„ï¸ Docker Container: MySQL                        â”‚
â”‚                                                                           â”‚
â”‚  Database: todo_app                                                      â”‚
â”‚  â”œâ”€ users                                                                â”‚
â”‚  â”‚  â”œâ”€ id, name, email, password                                        â”‚
â”‚  â”‚  â””â”€ created_at, updated_at                                           â”‚
â”‚  â”œâ”€ todos                                                                â”‚
â”‚  â”‚  â”œâ”€ id, title, description, completed                                â”‚
â”‚  â”‚  â”œâ”€ deadline, priority, category_id, user_id                         â”‚
â”‚  â”‚  â””â”€ created_at, updated_at                                           â”‚
â”‚  â””â”€ categories                                                           â”‚
â”‚     â”œâ”€ id, name, color, user_id                                         â”‚
â”‚     â””â”€ created_at, updated_at                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼è©³ç´°

### 1ï¸âƒ£ èªè¨¼ãƒ•ãƒ­ãƒ¼ (Login)

```
User Input (LoginPage)
    â”‚
    â”‚ email, password
    â–¼
useLoginUserMutation()
    â”‚ (generated hook)
    â”‚
    â”‚ GraphQL Mutation
    â–¼
mutation {
  login(email: "...", password: "...") {
    id
    name
    email
  }
}
    â”‚
    â–¼
Backend: AuthResolver@login
    â”‚
    â”‚ Laravel Auth::attempt()
    â–¼
MySQL: SELECT * FROM users WHERE email = '...'
    â”‚
    â”‚ User found & password verified
    â–¼
Session Cookie Set
    â”‚
    â–¼
Frontend: refetchUser()
    â”‚
    â”‚ useGetMeQuery()
    â–¼
AuthContext updates user state
    â”‚
    â–¼
navigate('/todos')
```

### 2ï¸âƒ£ TODOä½œæˆãƒ•ãƒ­ãƒ¼ (Create)

```
User Input (TodoForm)
    â”‚
    â”‚ title, description, deadline, priority
    â–¼
useCreateTodoMutation()
    â”‚ (generated hook)
    â”‚
    â”‚ GraphQL Mutation
    â–¼
mutation {
  createTodo(
    title: "..."
    description: "..."
    deadline: "2025-01-01"
    priority: HIGH
  ) {
    id
    title
    completed
  }
}
    â”‚
    â–¼
Backend: TodoResolver@createTodo
    â”‚ @guard directive checks authentication
    â”‚
    â”‚ Eloquent ORM
    â–¼
$user = Auth::user();
$todo = $user->todos()->create([...]);
    â”‚
    â–¼
MySQL: INSERT INTO todos (...) VALUES (...)
    â”‚
    â–¼
Return Todo object
    â”‚
    â–¼
Frontend: Apollo Cache Update
    â”‚
    â–¼
TodoList re-renders with new todo
```

### 3ï¸âƒ£ TODOä¸€è¦§å–å¾—ãƒ•ãƒ­ãƒ¼ (Read)

```
TodoPage Mount
    â”‚
    â–¼
useGetTodosQuery()
    â”‚ (generated hook)
    â”‚
    â”‚ GraphQL Query
    â–¼
query {
  todos {
    id
    title
    description
    completed
    deadline
    priority
    category { name color }
  }
}
    â”‚
    â–¼
Backend: TodoResolver or Lighthouse default
    â”‚ @guard directive checks authentication
    â”‚
    â”‚ Eloquent ORM with scopes
    â–¼
Todo::forUser($userId)
    ->completed($completed)
    ->applySorting($sortBy, $sortDirection)
    ->get();
    â”‚
    â–¼
MySQL: SELECT * FROM todos
       WHERE user_id = ?
       ORDER BY created_at DESC
    â”‚
    â–¼
Return Todo[] array
    â”‚
    â–¼
Frontend: Apollo Cache stores data
    â”‚
    â–¼
TodoList renders todo items
```

---

## ğŸ”‘ é‡è¦ãªæŠ€è¡“è¦ç´ 

### Frontend

| æŠ€è¡“ | ç”¨é€” | ãƒ•ã‚¡ã‚¤ãƒ«ä¾‹ |
|-----|------|----------|
| **React Context API** | èªè¨¼çŠ¶æ…‹ã®å…¨ä½“ç®¡ç† | [AuthContext.tsx](frontend/src/hooks/AuthContext.tsx) |
| **Apollo Client** | GraphQLã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ | [App.tsx:25-29](frontend/src/App.tsx#L25-L29) |
| **GraphQL Code Generator** | å‹å®‰å…¨ãªhooksè‡ªå‹•ç”Ÿæˆ | [generated/graphql.ts](frontend/src/generated/graphql.ts) |
| **Material UI** | UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | å…¨ãƒšãƒ¼ã‚¸ |
| **React Router v6** | ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° | [App.tsx:56-63](frontend/src/App.tsx#L56-L63) |

### Backend

| æŠ€è¡“ | ç”¨é€” | ãƒ•ã‚¡ã‚¤ãƒ«ä¾‹ |
|-----|------|----------|
| **Lighthouse GraphQL** | GraphQL APIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | [schema.graphql](server/graphql/schema.graphql) |
| **Laravel Sanctum** | ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ™ãƒ¼ã‚¹èªè¨¼ | AuthResolver |
| **Eloquent ORM** | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ | [Todo.php](server/app/Models/Todo.php) |
| **@guard directive** | GraphQLèªå¯ | [todoMutations.graphql:8](server/graphql/mutations/todoMutations.graphql#L8) |
| **@field resolver** | ã‚«ã‚¹ã‚¿ãƒ ãƒªã‚¾ãƒ«ãƒãƒ¼æŒ‡å®š | [authMutations.graphql:7](server/graphql/mutations/authMutations.graphql#L7) |

### Infrastructure

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | ãƒãƒ¼ãƒˆ | ç”¨é€” |
|------------|------|------|
| **Frontend Container** | 3000 | Reacté–‹ç™ºã‚µãƒ¼ãƒãƒ¼ |
| **Backend Container** | 8000 | Laravel APIã‚µãƒ¼ãƒãƒ¼ |
| **MySQL Container** | 3306 | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ |
| **Docker Network** | - | ã‚³ãƒ³ãƒ†ãƒŠé–“é€šä¿¡ (todo_network) |

---

## ğŸ“ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼è¨­è¨ˆã®ãƒã‚¤ãƒ³ãƒˆ

### 1. **å‹å®‰å…¨æ€§ã®ç¢ºä¿**
- GraphQLã‚¹ã‚­ãƒ¼ãƒãŒå”¯ä¸€ã®çœŸå®Ÿã®æº (Single Source of Truth)
- `npm run codegen` ã§TypeScriptå‹ã‚’è‡ªå‹•ç”Ÿæˆ
- ãƒ•ãƒ­ãƒ³ãƒˆãƒ»ãƒãƒƒã‚¯ä¸¡æ–¹ã§å‹å®šç¾©ãŒå…±æœ‰ã•ã‚Œã‚‹

### 2. **èªè¨¼ã®æµã‚Œ**
- Laravel Sanctumã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ™ãƒ¼ã‚¹èªè¨¼
- GraphQLãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã¯ `credentials: 'include'` ã§Cookieé€ä¿¡
- `@guard` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã§ã‚µãƒ¼ãƒãƒ¼å´èªå¯

### 3. **çŠ¶æ…‹ç®¡ç†ã®éšå±¤**
```
Global State (Context API)
  â””â”€ AuthContext: èªè¨¼çŠ¶æ…‹
      â””â”€ user, loading, logout, refetchUser

Local State (Apollo Cache)
  â””â”€ GraphQLã‚¯ã‚¨ãƒªçµæœã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥
      â””â”€ todos, categories

Component State (useState)
  â””â”€ ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›å€¤ã€UIçŠ¶æ…‹
```

### 4. **GraphQL Code Generatorã®å½¹å‰²**
```
server/graphql/**/*.graphql (ã‚¹ã‚­ãƒ¼ãƒå®šç¾©)
         â”‚
         â”‚ GraphQL Code Generator
         â–¼
frontend/src/generated/graphql.ts (å‹å®šç¾© + hooks)
         â”‚
         â”‚ Import
         â–¼
React Components (å‹å®‰å…¨ãªé–‹ç™º)
```

---

## ğŸš€ é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### GraphQLã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´æ™‚
1. `server/graphql/` ã§ã‚¹ã‚­ãƒ¼ãƒç·¨é›†
2. `php artisan lighthouse:print-schema` ã§ç¢ºèª
3. `npm run codegen` ã§ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å‹ç”Ÿæˆ
4. Reactå´ã§æ–°ã—ã„hooksã‚’ä½¿ç”¨
5. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

### æ–°æ©Ÿèƒ½è¿½åŠ æ™‚
1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ
2. Eloquentãƒ¢ãƒ‡ãƒ«å®šç¾©
3. GraphQLã‚¹ã‚­ãƒ¼ãƒå®šç¾©
4. ãƒªã‚¾ãƒ«ãƒãƒ¼å®Ÿè£…
5. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å‹ç”Ÿæˆ
6. Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…
7. E2Eãƒ†ã‚¹ãƒˆè¿½åŠ 

---

## ğŸ”— é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [CLAUDE.md](CLAUDE.md) - é–‹ç™ºã‚³ãƒãƒ³ãƒ‰ã¨ã‚¬ã‚¤ãƒ‰
- [docker-compose.yml](docker-compose.yml) - ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆ
- [GraphQL Schema](server/graphql/schema.graphql) - APIã‚¹ã‚­ãƒ¼ãƒ
